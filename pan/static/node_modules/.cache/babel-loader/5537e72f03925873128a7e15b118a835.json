{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2912a5aa\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = [\"onUpdate:modelValue\"];\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"disabled\"\n}, \"Desactivado\", -1));\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"emitter\"\n}, \"Origen\", -1));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"receiver\"\n}, \"Altavoz\", -1));\n\nconst _hoisted_6 = [_hoisted_3, _hoisted_4, _hoisted_5];\nconst _hoisted_7 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.pains, (pai, key) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"form-inline\",\n      key: pai.ip\n    }, [_createElementVNode(\"div\", {\n      class: \"form-group\",\n      id: pai.ip\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(key), 1), _withDirectives(_createElementVNode(\"select\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": $event => pai.status = $event\n    }, _hoisted_6, 8, _hoisted_2), [[_vModelSelect, pai.status]]), pai.status == 'receiver' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"select\", {\n      class: \"form-control\",\n      onChange: _cache[0] || (_cache[0] = (...args) => $options.setIp && $options.setIp(...args))\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.lpains, (lpai, lkey) => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        \"data-origpai\": \"pai.ip\",\n        key: lpai.ip,\n        value: \"lpai.ip\"\n      }, _toDisplayString(lkey), 1);\n    }), 128))], 32)])) : _createCommentVNode(\"\", true)], 8, _hoisted_1)]);\n  }), 128)), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.save && $options.save(...args))\n  }, \"Guardar\")], 64);\n}","map":{"version":3,"mappings":";;;;;;;gEAKQA,oBAA2C,QAA3C,EAA2C;AAAnCC,OAAK,EAAC;AAA6B,CAA3C,EAAuB,aAAvB,EAAkC,EAAlC;;gEACAD,oBAAqC,QAArC,EAAqC;AAA7BC,OAAK,EAAC;AAAuB,CAArC,EAAsB,QAAtB,EAA4B,EAA5B;;gEACAD,oBAAuC,QAAvC,EAAuC;AAA/BC,OAAK,EAAC;AAAyB,CAAvC,EAAuB,SAAvB,EAA8B,EAA9B;;oBAFAC,YACAC,YACAC;;;;;gFANNC,oBAkBMC,SAlBN,EAkBM,IAlBN,EAkBMC,YAlBsCC,WAkBtC,EAlB2C,CAAlBC,GAAkB,EAAbC,GAAa,KAAV;yBAAvCL,oBAkBM,KAlBN,EAkBM;AAlBDM,WAAK,EAAC,aAkBL;AAlBoDD,SAAG,EAAED,GAAG,CAACG;AAkB7D,KAlBN,GACEZ,oBAgBM,KAhBN,EAgBM;AAhBDW,WAAK,EAAC,YAgBL;AAhBiBE,QAAE,EAACJ,GAAG,CAACG;AAgBxB,KAhBN,GACEZ,oBAAgB,IAAhB,EAAgB,IAAhB,EAAgBc,iBAAVJ,GAAU,CAAhB,EAAS,CAAT,mBACAV,oBAIS,QAJT,EAIS;AAJDW,WAAK,EAAC,cAIL;uCAJ0BF,GAAG,CAACM,SAAMC;AAIpC,KAJT,+CAAmCP,GAAG,CAACM,WAK5BN,GAAG,CAACM,MAAJ,IAAU,4BAArBV,oBAQM,KARN,EAQMY,UARN,EAQM,CAPFjB,oBAMS,QANT,EAMS;AANDW,WAAK,EAAC,cAML;AANuBO,cAAM,yCAACC,yCAAD;AAM7B,KANT,sBACEd,oBAISC,SAJT,EAIS,IAJT,EAISC,YAHsBY,eAGtB,EAH4B,CAArBC,IAAqB,EAAfC,IAAe,KAAX;2BAD1BhB,oBAIS,QAJT,EAIS;AAJD,wBAAa,QAIZ;AAFMK,WAAG,EAACU,IAAI,CAACR,EAEf;AAFkBX,aAAK,EAAC;AAExB,OAJT,mBAGIoB,KAHJ,EAGQ,CAHR;KAIS,CAJT,QADF,KAOE,CARN,mCAPF,iBADF;GAkBM,CAlBN,SAmBArB,oBAAoC,QAApC,EAAoC;AAA3BsB,WAAK,yCAACH,uCAAD;AAAsB,GAApC,EAAoB,SAApB","names":["_createElementVNode","value","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","$data","pai","key","class","ip","id","_toDisplayString","status","$event","_hoisted_7","onChange","$options","lpai","lkey","onClick"],"sourceRoot":"","sources":["/home/dfrancos/devel/personal/pan/pan/static/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=form-inline v-for=\"(pai, key) in pains\" v-bind:key=\"pai.ip\">\n    <div class=form-group :id=pai.ip>\n      <h2>{{key}}</h2>\n      <select class=form-control v-model=pai.status>\n        <option value=disabled>Desactivado</option>\n        <option value=emitter>Origen</option>\n        <option value=receiver>Altavoz</option>\n      </select>\n      <div v-if=\"pai.status=='receiver'\">\n          <select class=form-control v-on:change=setIp>\n            <option data-origpai=pai.ip\n                    v-for=\"(lpai, lkey) in lpains\"\n                    v-bind:key=lpai.ip value=lpai.ip>\n              {{lkey}}\n            </option>\n          </select>\n      </div>\n    </div>\n  </div>\n  <button @click=save>Guardar</button>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'MainApp',\n  props: {\n  },\n  computed: {\n    lpains(){\n      const elems = Object.entries(this.pains)\n      return Object.fromEntries(elems.filter((pain) => pain[1].status == 'emitter'));\n    }\n  },\n  mounted () {\n    axios\n      .get('/api/config')\n      .then(response => (this.pains = response.data))\n  },\n  methods: {\n    save() {\n      for (let pain in this.pains) {\n        // Emitters should have their own ip as remote_ip\n        if (pain.status == 'emitter') {\n          pain.remote_ip = pain.ip\n        }\n      }\n      axios.post('api/config', this.pains).then(data => console.log(data));\n    },\n    setIp(event) {\n      const value = event.target.value;\n      const origpai = event.target.data.origpai;\n      console.log(value);\n      console.log(origpai);\n    }\n  },\n  data () {\n    return {\n      pains: []\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}