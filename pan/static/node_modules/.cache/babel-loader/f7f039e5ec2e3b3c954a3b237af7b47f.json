{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b9d84d78\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = {\n  class: \"col\"\n};\nconst _hoisted_3 = {\n  style: {\n    \"margin-top\": \"10px!important\",\n    \"text-align\": \"right\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"col\"\n};\nconst _hoisted_5 = [\"onUpdate:modelValue\"];\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"disabled\"\n}, \"Disabled\", -1));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"emitter\"\n}, \"Sound Source\", -1));\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"receiver\"\n}, \"Speaker\", -1));\n\nconst _hoisted_9 = [_hoisted_6, _hoisted_7, _hoisted_8];\nconst _hoisted_10 = {\n  class: \"col\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.pains, (pai, key) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"form-inline\",\n      key: pai.ip\n    }, [_createElementVNode(\"div\", {\n      class: \"row\",\n      id: pai.ip,\n      style: {\n        \"margin-right\": \"40px\"\n      }\n    }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", _hoisted_3, _toDisplayString(key), 1)]), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"select\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": $event => pai.status = $event\n    }, _hoisted_9, 8, _hoisted_5), [[_vModelSelect, pai.status]])]), _createElementVNode(\"div\", _hoisted_10, [pai.status == 'receiver' ? (_openBlock(), _createElementBlock(\"select\", {\n      key: 0,\n      class: \"form-control\",\n      onChange: _cache[0] || (_cache[0] = (...args) => $options.setIp && $options.setIp(...args))\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.lpains, (lpai, lkey) => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        \"data-origpai\": \"pai.ip\",\n        key: lpai.ip,\n        value: \"lpai.ip\"\n      }, _toDisplayString(lkey), 1);\n    }), 128))], 32)) : _createCommentVNode(\"\", true)])], 8, _hoisted_1)]);\n  }), 128)), _createElementVNode(\"button\", {\n    class: \"btn btn-success btn-lg\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.save && $options.save(...args))\n  }, \"Save\")], 64);\n}","map":{"version":3,"mappings":";;;;;;AAGWA,OAAK,EAAC;;;AAAQC,OAAmD,EAAnD;AAAA;AAAA;AAAA;;;AACdD,OAAK,EAAC;;;;gEAEPE,oBAAwC,QAAxC,EAAwC;AAAhCC,OAAK,EAAC;AAA0B,CAAxC,EAAuB,UAAvB,EAA+B,EAA/B;;gEACAD,oBAA2C,QAA3C,EAA2C;AAAnCC,OAAK,EAAC;AAA6B,CAA3C,EAAsB,cAAtB,EAAkC,EAAlC;;gEACAD,oBAAuC,QAAvC,EAAuC;AAA/BC,OAAK,EAAC;AAAyB,CAAvC,EAAuB,SAAvB,EAA8B,EAA9B;;oBAFAC,YACAC,YACAC;;AAGCN,OAAK,EAAC;;;gFAVfO,oBAoBMC,SApBN,EAoBM,IApBN,EAoBMC,YApBsCC,WAoBtC,EApB2C,CAAlBC,GAAkB,EAAbC,GAAa,KAAV;yBAAvCL,oBAoBM,KApBN,EAoBM;AApBDP,WAAK,EAAC,aAoBL;AApBoDY,SAAG,EAAED,GAAG,CAACE;AAoB7D,KApBN,GACEX,oBAkBM,KAlBN,EAkBM;AAlBDF,WAAK,EAAC,KAkBL;AAlBUc,QAAE,EAACH,GAAG,CAACE,EAkBjB;AAlBoBZ,WAAyB,EAAzB;AAAA;AAAA;AAkBpB,KAlBN,GACEC,oBAAyF,KAAzF,cAAyF,CAA1EA,oBAAoE,IAApE,cAAoEa,iBAAVH,GAAU,CAApE,EAA6D,CAA7D,CAA0E,CAAzF,GACAV,oBAMM,KANN,cAMM,iBALJA,oBAIS,QAJT,EAIS;AAJDF,WAAK,EAAC,cAIL;uCAJ0BW,GAAG,CAACK,SAAMC;AAIpC,KAJT,+CAAmCN,GAAG,CAACK,SAKnC,CANN,GAOAd,oBAQM,KARN,eAQM,CAPWS,GAAG,CAACK,MAAJ,IAAU,4BAAzBT,oBAMS,QANT,EAMS;YAAA;AAN8BP,WAAK,EAAC,cAMpC;AANsDkB,cAAM,yCAACC,yCAAD;AAM5D,KANT,sBACEZ,oBAISC,SAJT,EAIS,IAJT,EAISC,YAHsBU,eAGtB,EAH4B,CAArBC,IAAqB,EAAfC,IAAe,KAAX;2BAD1Bd,oBAIS,QAJT,EAIS;AAJD,wBAAa,QAIZ;AAFMK,WAAG,EAACQ,IAAI,CAACP,EAEf;AAFkBV,aAAK,EAAC;AAExB,OAJT,mBAGIkB,KAHJ,EAGQ,CAHR;KAIS,CAJT,QADF,sCAOI,CARN,EATF,iBADF;GAoBM,CApBN,SAqBAnB,oBAAgE,QAAhE,EAAgE;AAAxDF,SAAK,EAAC,wBAAkD;AAAxBsB,WAAK,yCAACH,uCAAD;AAAmB,GAAhE,EAAmD,MAAnD","names":["class","style","_createElementVNode","value","_hoisted_6","_hoisted_7","_hoisted_8","_createElementBlock","_Fragment","_renderList","$data","pai","key","ip","id","_toDisplayString","status","$event","onChange","$options","lpai","lkey","onClick"],"sourceRoot":"","sources":["/home/dfrancos/devel/personal/pan/pan/static/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=form-inline v-for=\"(pai, key) in pains\" v-bind:key=\"pai.ip\">\n    <div class=row :id=pai.ip style=\"margin-right:40px\">\n      <div class=col><h3 style=\"margin-top:10px!important; text-align:right\">{{key}}</h3></div>\n      <div class=col>\n        <select class=form-control v-model=pai.status>\n          <option value=disabled>Disabled</option>\n          <option value=emitter>Sound Source</option>\n          <option value=receiver>Speaker</option>\n        </select>\n      </div>\n      <div class=col>\n        <select  v-if=\"pai.status=='receiver'\" class=form-control v-on:change=setIp>\n          <option data-origpai=pai.ip\n                  v-for=\"(lpai, lkey) in lpains\"\n                  v-bind:key=lpai.ip value=lpai.ip>\n            {{lkey}}\n          </option>\n        </select>\n      </div>\n    </div>\n  </div>\n  <button class=\"btn btn-success btn-lg\" @click=save>Save</button>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'MainApp',\n  props: {\n  },\n  computed: {\n    lpains(){\n      const elems = Object.entries(this.pains)\n      return Object.fromEntries(elems.filter((pain) => pain[1].status == 'emitter'));\n    }\n  },\n  mounted () {\n    axios\n      .get('/api/config')\n      .then(response => (this.pains = response.data))\n  },\n  methods: {\n    save() {\n      for (let pain in this.pains) {\n        // Emitters should have their own ip as remote_ip\n        if (pain.status == 'emitter') {\n          pain.remote_ip = pain.ip\n        }\n      }\n      axios.post('api/config', this.pains).then(data => console.log(data));\n    },\n    setIp(event) {\n      const value = event.target.value;\n      const origpai = event.target.data.origpai;\n      console.log(value);\n      console.log(origpai);\n    }\n  },\n  data () {\n    return {\n      pains: []\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}